{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\..\\App.svelte",
    "..\\..\\Attachment.svelte",
    "..\\..\\Feed.svelte",
    "..\\..\\Link.svelte",
    "..\\..\\Photo.svelte",
    "..\\..\\Post.svelte",
    "..\\..\\Video.svelte"
  ],
  "sourcesContent": [
    "<script>\n    import { login, logout, getIsLoggedIn } from './vk/auth';\n    import Feed from './components/Feed.svelte';\n    import { getNews } from './vk/data/news';\n\n    let error;\n    let isLoggedIn;\n    let news;\n\n    (async () => {\n        try {\n            isLoggedIn = await getIsLoggedIn();\n            if (isLoggedIn) {\n                news = await getNews();\n            }\n        } catch (e) {\n            error = JSON.stringify(e);\n        }\n    })();\n\n    async function handleLogoutClick() {\n        await logout();\n        isLoggedIn = false;\n        news = undefined;\n    }\n\n    async function handleLoginClick() {\n        try {\n            isLoggedIn = await login();\n            if (isLoggedIn) {\n                news = await getNews();\n            }\n        } catch (e) {\n            error = JSON.stringify(e);\n        }\n    }\n</script>\n\n<!-- prettier-ignore -->\n<div>\n    <nav>\n        {#if isLoggedIn}\n            <button on:click={handleLogoutClick} id=\"logout\">Logout</button>\n        {/if}\n    </nav>\n    {#if isLoggedIn === false}\n        <p class=\"login-wrapper\">\n            <button on:click={handleLoginClick} id=\"login\">Log in VK</button>\n        </p>\n    {:else if news}\n        <Feed {news}></Feed>\n    {:else if error}\n        <p style=\"color: red;\">{error.message}</p>\n    {:else}\n        <p>...loading</p>\n    {/if}\n</div>\n\n<style>\n    nav {\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-end;\n        align-items: center;\n\n        background-color: #68a5eb;\n        height: 42px;\n    }\n\n    #logout {\n        margin: 5px;\n        font-size: 12px;\n    }\n    .login-wrapper {\n        text-align: center;\n    }\n</style>\n",
    "<script>\r\n    import Link from './Link.svelte';\r\n    import Photo from './Photo.svelte';\r\n    import Video from './Video.svelte';\r\n    export let att;\r\n</script>\r\n\r\n<!-- prettier-ignore -->\r\n<div>\r\n    {#if att.type === 'photo'}\r\n        <Photo photo={att.photo}></Photo>\r\n    {:else if att.type === 'video'}\r\n        Video frame:\r\n        <Photo photo={att.video}></Photo>\r\n    {:else if att.type === 'doc' && att.doc.ext === 'gif'}\r\n        <Video {att}></Video>\r\n    {:else if att.type === 'link'}\r\n        <Link {att}></Link>\r\n    {:else}\r\n        <p>Unsupported attachment: {JSON.stringify(att)}</p>\r\n    {/if}\r\n</div>\r\n\r\n<style>\r\n    p {\r\n        word-break: break-word;\r\n        max-width: 100%;\r\n    }\r\n</style>\r\n",
    "<script>\r\n    import Post from './Post.svelte';\r\n    export let news;\r\n</script>\r\n\r\n<!-- prettier-ignore -->\r\n<div class=\"feed\">\r\n    {#each news as item, i}\r\n        <Post {item}></Post>\r\n    {/each}\r\n</div>\r\n\r\n<style>\r\n    .feed {\r\n        padding: 8px;\r\n    }\r\n</style>\r\n",
    "<script>\r\n    export let att;\r\n\r\n    let photoSrc;\r\n    if (att.link.photo) {\r\n        const photoSizes = Object.keys(att.link.photo).filter((k) =>\r\n            k.includes('photo')\r\n        );\r\n\r\n        // fixme replace with screensize based size\r\n        const medianQuality = Math.floor(photoSizes.length / 2);\r\n        photoSrc = att.link.photo[photoSizes[medianQuality]];\r\n    }\r\n</script>\r\n\r\n<!-- prettier-ignore -->\r\n<a href=\"{att.link.url}\" target=\"_blank\">\r\n    <div class=\"link\">\r\n        {#if photoSrc}\r\n            <img loading=\"lazy\" src=\"{photoSrc}\" alt=\"\" />\r\n        {/if}\r\n        <p>{att.link.title}</p>\r\n    </div>\r\n</a>\r\n\r\n<style>\r\n    img {\r\n        width: 100%;\r\n    }\r\n    .link {\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n        border: 1px solid rgba(0, 0, 0, 0.363);\r\n    }\r\n    .link img {\r\n        flex-shrink: 0;\r\n        height: 80px;\r\n        width: auto;\r\n    }\r\n    .link p {\r\n        margin: 0;\r\n        padding: 8px;\r\n    }\r\n</style>\r\n",
    "<script>\r\n    export let photo;\r\n\r\n    const photos = Object.keys(photo).filter((k) => k.includes('photo'));\r\n\r\n    let photoSrc;\r\n    for (let i = 0; i < photos.length; i++) {\r\n        const photoSize = photos[i].split('_')[1];\r\n\r\n        if (photoSize >= 600 || i === photos.length - 1) {\r\n            photoSrc = photo[photos[i]];\r\n            break;\r\n        }\r\n    }\r\n\r\n    \r\n</script>\r\n\r\n<!-- prettier-ignore -->\r\n<img loading=\"lazy\" src={photoSrc} alt=\"\" srcset=\"\">\r\n\r\n<style>\r\n    img {\r\n        width: 100%;\r\n    }\r\n</style>\r\n",
    "<script>\r\n    import Attachment from './Attachment.svelte';\r\n\r\n    export let item;\r\n\r\n    const postUrl = `https://vk.com/wall${item.source_id}_${item.post_id}`;\r\n    const date = new Date(item.date * 1000).toLocaleString('ru');\r\n    const repost = item.copy_history && item.copy_history[0];\r\n    const repostDate =\r\n        repost && new Date(repost.date * 1000).toLocaleString('ru');\r\n</script>\r\n\r\n<!-- prettier-ignore -->\r\n<div class=\"post\">\r\n    <p class=\"date\">{date}</p>\r\n    <h4>{item.source_name}</h4>\r\n    {#if item.text}\r\n        <p class=\"text\">{item.text}</p>\r\n    {/if}\r\n    {#if item.attachments}\r\n        {#each item.attachments as att, i}\r\n           <Attachment {att}></Attachment>\r\n        {/each}\r\n    {/if}\r\n    {#if repost}\r\n        <div class=\"post\">\r\n            <p class=\"date\">{repostDate}</p>\r\n            <h4>{repost.source_name}</h4>\r\n            {#if repost.text}\r\n                <p class=\"text\">{repost.text}</p>\r\n            {/if}\r\n            {#if repost.attachments}\r\n                {#each repost.attachments as att, i}\r\n                    <Attachment {att}></Attachment>\r\n                {/each}\r\n            {/if}\r\n        </div>\r\n    {/if}\r\n    <p><a href={postUrl} target=\"_blank\">{postUrl}</a></p>\r\n</div>\r\n\r\n<style>\r\n    .post {\r\n        padding: 1em;\r\n        margin-bottom: 0.5em;\r\n        position: relative;\r\n        box-shadow: 0 0 3px rgb(128, 128, 128);\r\n    }\r\n    .text {\r\n        white-space: pre-wrap;\r\n        word-break: break-word;\r\n    }\r\n    .date {\r\n        color: #505050;\r\n        position: absolute;\r\n        top: 0.5em;\r\n        right: 0.5em;\r\n        font-size: 0.75em;\r\n        margin: 0;\r\n    }\r\n</style>\r\n",
    "<script>\r\n    export let att;\r\n\r\n    // fixme choose poster based on screen size\r\n    const posterSrc = att.doc.preview.photo.sizes[0].src;\r\n    const videoSrc = att.doc.preview.video && att.doc.preview.video.src || att.doc.url;\r\n</script>\r\n\r\n<!-- prettier-ignore -->\r\n<video \r\n    src={videoSrc} \r\n    poster={posterSrc} \r\n    preload=\"none\" \r\n    controls\r\n    type=\"video/mp4\">\r\n</video>\r\n\r\n<style>\r\n    video {\r\n        width: 100%;\r\n    }\r\n</style>\r\n"
  ],
  "names": [],
  "mappings": "AA2DI,GAAG,eAAC,CAAC,AACD,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,CACnB,eAAe,CAAE,QAAQ,CACzB,WAAW,CAAE,MAAM,CAEnB,gBAAgB,CAAE,OAAO,CACzB,MAAM,CAAE,IAAI,AAChB,CAAC,AAED,OAAO,eAAC,CAAC,AACL,MAAM,CAAE,GAAG,CACX,SAAS,CAAE,IAAI,AACnB,CAAC,AACD,cAAc,eAAC,CAAC,AACZ,UAAU,CAAE,MAAM,AACtB,CAAC;ACnDD,CAAC,eAAC,CAAC,AACC,UAAU,CAAE,UAAU,CACtB,SAAS,CAAE,IAAI,AACnB,CAAC;ACdD,KAAK,eAAC,CAAC,AACH,OAAO,CAAE,GAAG,AAChB,CAAC;ACWD,GAAG,8BAAC,CAAC,AACD,KAAK,CAAE,IAAI,AACf,CAAC,AACD,KAAK,8BAAC,CAAC,AACH,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,CACnB,WAAW,CAAE,MAAM,CACnB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,AAC1C,CAAC,AACD,oBAAK,CAAC,GAAG,eAAC,CAAC,AACP,WAAW,CAAE,CAAC,CACd,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,AACf,CAAC,AACD,oBAAK,CAAC,CAAC,eAAC,CAAC,AACL,MAAM,CAAE,CAAC,CACT,OAAO,CAAE,GAAG,AAChB,CAAC;ACrBD,GAAG,eAAC,CAAC,AACD,KAAK,CAAE,IAAI,AACf,CAAC;ACkBD,KAAK,eAAC,CAAC,AACH,OAAO,CAAE,GAAG,CACZ,aAAa,CAAE,KAAK,CACpB,QAAQ,CAAE,QAAQ,CAClB,UAAU,CAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,AAC1C,CAAC,AACD,KAAK,eAAC,CAAC,AACH,WAAW,CAAE,QAAQ,CACrB,UAAU,CAAE,UAAU,AAC1B,CAAC,AACD,KAAK,eAAC,CAAC,AACH,KAAK,CAAE,OAAO,CACd,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,KAAK,CACV,KAAK,CAAE,KAAK,CACZ,SAAS,CAAE,MAAM,CACjB,MAAM,CAAE,CAAC,AACb,CAAC;ACzCD,KAAK,cAAC,CAAC,AACH,KAAK,CAAE,IAAI,AACf,CAAC"
}